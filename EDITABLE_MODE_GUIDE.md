# 🎉 网站完全可编辑模式 - 使用说明

## 📝 概述

您的个人网站现已升级为**完全可编辑模式**！所有页面的信息都可以通过界面直接编辑，并实时同步到后端数据库。下次打开网站时，将自动加载最新的数据。

## ✨ 新增功能

### 1. 个人信息编辑

- **位置**: 侧边栏头像右下角的编辑按钮
- **可编辑内容**:
  - 基本信息（姓名、邮箱、头像链接、个人简介）
  - 位置与公司信息
  - 联系方式（QQ、微信、GitHub 用户名）
  - 社交链接（GitHub、个人网站）
  - 技能标签（可添加/删除）

### 2. 时间轴编辑

- **位置**: 简历页面的"编辑时间轴"按钮
- **功能**:
  - 添加新的时间轴项目
  - 编辑现有项目
  - 删除项目
  - 调整项目顺序（上移/下移）
  - 每个项目包含：年份、标题、公司/机构、描述

### 3. 待办事项管理

- **位置**: 待办事项页面
- **功能**:
  - 已有完整的 CRUD 功能
  - 数据自动同步到后端

### 4. GitHub Token 配置

- **位置**: 项目页面
- **功能**:
  - 配置 GitHub 访问令牌解决 API 限制
  - 令牌加密存储在服务器

## 🚀 使用步骤

### 启动服务

1. **启动后端服务器**

```bash
cd server
npm start
# 或使用开发模式
npm run dev
```

2. **启动前端开发服务器**

```bash
# 在项目根目录
npm run dev
```

3. **访问网站**
   打开浏览器访问: http://localhost:5173

### 编辑个人信息

1. 在任何页面找到侧边栏
2. 点击头像右下角的蓝色编辑按钮（笔图标）
3. 在弹出的编辑器中修改信息
4. 点击"保存"按钮
5. 数据将立即保存到数据库

### 编辑时间轴

1. 访问"简历"页面
2. 点击"编辑时间轴"按钮
3. 可以：
   - 在顶部表单添加新项目
   - 点击现有项目的编辑按钮修改内容
   - 使用上下箭头调整顺序
   - 点击删除按钮移除项目
4. 完成后点击"保存时间轴"

## 🗄️ 数据存储

### 后端数据库（MongoDB）

所有数据存储在 MongoDB 数据库中：

- **Profile 集合**: 个人信息和时间轴
- **Todo 集合**: 待办事项
- **UserConfig 集合**: 用户配置（如 GitHub Token）

### 数据持久化

- 所有编辑操作立即保存到数据库
- 页面刷新后自动加载最新数据
- 支持多设备访问，数据实时同步

## 🔧 技术实现

### 前端

- **Store**:
  - `profile.js` - 个人信息状态管理
  - `editMode.js` - 编辑模式状态管理
- **Components**:
  - `ProfileEditor.vue` - 个人信息编辑器
  - `TimelineEditor.vue` - 时间轴编辑器
- **Services**:
  - `profileService.js` - Profile API 调用

### 后端

- **Models**:
  - `Profile.js` - 个人信息数据模型
- **Controllers**:
  - `profileController.js` - Profile CRUD 操作
- **Routes**:
  - `/api/profile` - Profile API 端点

## 📋 API 端点

### Profile APIs

```
GET    /api/profile          - 获取用户配置文件
PUT    /api/profile          - 更新用户配置文件
PUT    /api/profile/timeline - 更新时间轴
PUT    /api/profile/skills   - 更新技能列表
POST   /api/profile/reset    - 重置配置文件到默认值
```

### 其他 APIs

```
GET    /api/todos            - 获取所有待办事项
POST   /api/todos            - 创建待办事项
PUT    /api/todos/:id        - 更新待办事项
DELETE /api/todos/:id        - 删除待办事项

GET    /api/config           - 获取用户配置
POST   /api/config/github-token - 更新GitHub Token
```

## 🎨 界面特点

- **模态窗口设计**: 编辑器以弹窗形式展示，不影响页面浏览
- **实时反馈**: 保存成功/失败立即显示消息提示
- **响应式布局**: 支持桌面和移动设备
- **暗色模式**: 完美适配网站的明暗主题切换

## 🔐 安全性

- GitHub Token 加密存储
- 数据验证和错误处理
- 防止 XSS 和 SQL 注入

## 🐛 故障排除

### 数据未保存

1. 检查后端服务器是否运行
2. 检查 MongoDB 连接
3. 查看浏览器控制台错误信息

### 编辑器无法打开

1. 确认已导入所有必需组件
2. 检查浏览器控制台是否有错误

### 数据不同步

1. 刷新页面重新加载
2. 检查网络请求是否成功
3. 查看后端日志

## 📞 技术支持

如有问题，请查看：

- 浏览器开发者控制台（F12）
- 后端服务器日志
- MongoDB 数据库连接状态

---

🎊 **恭喜！您的网站现在完全支持在线编辑了！** 🎊
